<!--
{
	"title": "the Cal in the Hacks",
	"excerpt": "Repurposing public domain books into poetry",
	"thumbnail": "%root%/content/images/2016/11/calinthehacks-thumbnail.jpg",
	"category": "programming",
	"languages": [
		"Ruby"
	],
	"browser": {
		"url": "http://poetry.davepagurek.com/",
		"image": "%root%/content/images/2016/11/calinthehacks.png"
	},
	"buttons": [
		{
			"url": "http://poetry.davepagurek.com/",
			"text": "View The Cal in the Hacks"
		},
		{
			"url": "https://github.com/davepagurek/The-Cal-in-the-Hacks",
			"text": "View Source on GitHub"
		} 
	],
	"date": "2016-11-13"
}
-->

A program to repurpose public domain books into poetry, created for CalHacks 2016.

https://www.youtube.com/watch?v=j93TF18AdKE

## How it works
### Rhyme scheme
The Cal in the Hacks works by making a matrix, where one axis is rhymes and the other axis is related words. To make a poem with an AABB rhyme scheme, you make a sentence ending on a word in the matrix, then slide to a rhyming word for the end of the next sentence, then a related word for the next, and then rhyme for the next.

### Verse generation
Sentences are generated by finding relevant passages in some source material (in our case, The Great Gatsby and The Wizard of Oz) that are around the right number of syllables. Multiple options are ranked by their relevancy to the subject of the line. This is done by training a word-to-vector model on the source text and ranking based on vector distance to the subject.

### Text-to-Speech
We use the IBM Watson API and HTML5 Audio to read the poetry for you. (This has since been turned off in the live site because our api key will expire eventually.)
